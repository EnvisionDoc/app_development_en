# Managing Applications
EnOS™ provides developers with the ability to create applications, delete applications, purchase applications, and manage application clients of the organization. Menu and permission management are basically designed for application portal developers.

## Registering an Application

When calling EnOS REST API for application development, a service account issued by EnOS is required as parameters. The service account consists of a set of `accessKey` and `secretKey`, which are generated by registering an application on EnOS through the following steps:

1. On the **Application Registration** page of EnOS Console, click **Create App**.

2.  Fill in the application information.

   .. csv-table::
      :widths: auto

      "Field", "Description"
      "Name", "100 characters at most. Internationalization is optional, which will be filled with the current language if this field is blank."
      "URL", "String type. 2000 characters at most."
      "Category", "The industry or business that the application will be used for."
      "Type", "Define the application is for Web or for mobile."
      "Icon", "Support jpg and png formats, 200*200px, 50KB at most."
      "Description", "1000 characters at most for both English and Chineses. Internationalization is optional, which will be filled with the current language if this field is blank."

3. Click **Confirm** to complete.

After the application is created, it is listed under the **Apps of This OU** tab. Click the application name to view detailed information of the application (like the `accessKey` and `secretKey`).

.. image:: media/app_details.png

## Managing Application Menu

One application can have more than one functional menu. The user who bought the application may not buy all of the menus. The application manager can manger all application menus, create new menus, and specify the available menus for different organizations and users. EnOS now supports 2 levels menu for one application.

### Creating Menu

Menu configuration is a prerequisite for authorizing users to use specific menus. Follow the below steps to do the configuration:

1. Select **Application Registration**, and click the application to view the details.

2. Select the tag **Menu**, and click **Create Menu**. Fill the information in the window.
   
   .. csv-table::
      :widths: auto

      "Field", "Description"
      "Name", "40 characters at most. It must be unique under one application. Internationalization is optional."
      "Identifier", "Support letters, numbers, underscore (_) and period (.). 4 to 30 characters. It must be unique under one application. "
      "Level", "Choose where to put the menu, first level or second level."
      "Parent", "If **Level 2** is selected for **Level**, choose a parent menu for it."
      "Sorting ID", "Determines the order of the current menu at its level. Beginning with 1, menu with smaller sort ID ranks higher in the order."
      "URL", "The URL address of the menu. 2000 characters at most."
      "Description, "500 characters at most. Internationalization is optional."

3. Click **Confirm** to finish.

After the menus are created, they can be viewed and edited under the tag **Menu**.

.. image:: media/menu_management.png
   :width: 500px

### Batching Authorizing the Application Menu

Under the tag **Menu**, click the icon |authorize| of the menu to view all the users who have bought the application and authorize the menu to the users.

.. |authorize| image:: media/button_authorize_menu.png
.. image:: media/menu_authorizing_customer.png
   :width: 500px

## Managing Permission

Permission is an independent access resource. For instance, 3 remote functions: remote start, remote stop, and remote reset are in one application menu. And only a few users with high permission can use those functions.

### Creating Access

Click **Permission > Create Access Point** in the application detail page. And fill in the access information.

.. csv-table::
   :widths: auto

   "Field", "Description"
   "Name", "40 characters at most. It must be unique under one application. Internationalization is optional."
   "Identifier", "The only string to identify an access point. Support letters, numbers, underscore (_) and period (.). 4 to 30 characters."
   "Description", "Optional. 500 characters at most. Internationalization is optional."

After the access points are created, they can be viewed and edited under the tag **Permission**.

.. image:: media/permission_management.png
   :width: 500px

### Batching Authorizing the Application Access

One application can own multiple accesses. The user who bought the application may not own all the access permissions. The application manager can specify the access permissions for different organizations and users.

Under the tag **Permission**, click the icon |authorize| of the access point to view all the users who have bought the application and authorize the access permission to the users.

.. |authorize| image:: media/button_authorize_menu.png

## Managing Application Users

When clients request to purchase your application through EnOS, you will need to process the requests and manage resource authorization to your clients on the **App Detail** page.

1. Click the **Requests Pending Approval** tab to view the pending client requests.

2. The client information is listed under **Customer List**, approve or reject the purchase requests by clicking the icon |operation|.

   .. |operation| image:: media/button_customer_operation.png

3. All approved requests are listed under the tag **Customer** on **App Detail**. The application developer can view and edit the authorized menus and access permissions.

## Purchasing an Application

Application developers can sell or purchase applications through EnOS™. This facilitates application sharing and reduces repetitive work on developing similar applications.

If you want to purchase an application that is developed on EnOS, click **Application Registration > Purchased > Purchase Application** on EnOS Console. Provide the `accessKey` in the window to search the application and submit the purchase request. Contact the application developer offline about the purchase request if needed. Then the application developer will approve your purchase request and allocate the relevant application resources to you. You can then find the application under the **Purchased Apps** tab.

.. image:: media/purchasing_app.png
   :width: 500px

## Approving Purchase Request

When other developers requested to purchase your application through EnOS, you will need to process the requests and manage resource authorization **App Detail** page.

1. Click the **Requests Pending Approval** tab to view the pending client requests.

2. The client information is listed under **Customer List**, approve or reject the purchase requests by clicking the icon |operation|.

   .. |operation| image:: media/button_customer_operation.png

   .. image:: media/approving_purchase.png
      :width: 500px

3. All approved requests are listed under the tag **Customer** on **App Detail**. You can view and edit the authorized menus and access permissions.


